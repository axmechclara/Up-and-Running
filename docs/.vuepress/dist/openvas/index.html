<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Greenbone Vulnerability Manager | Libellux</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://www.libellux.com/img/icons/72x72.png">
    <link rel="apple-touch-icon" sizes="48x48" href="https://www.libellux.com/img/icons/48x48.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.libellux.com/img/icons/72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://www.libellux.com/img/icons/144x144.png">
    <link rel="apple-touch-icon" sizes="192x192" href="https://www.libellux.com/img/icons/192x192.png">
    <link rel="apple-touch-icon" sizes="256x256" href="https://www.libellux.com/img/icons/256x256.png">
    <link rel="apple-touch-icon" sizes="384x384" href="https://www.libellux.com/img/icons/384x384.png">
    <link rel="apple-touch-icon" sizes="512x512" href="https://www.libellux.com/img/icons/512x512.png">
    <link rel="apple-touch-icon" sizes="1200x627" href="https://www.libellux.com/img/icons/1200x627.png">
    <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5DHC7KR');
    </script>
    <meta name="description" content="OpenVAS is a full-featured vulnerability scanner. Its capabilities include unauthenticated testing, authenticated testing, various high level and low level Internet and industrial protocols, performance tuning for large-scale scans and a powerful internal programming language to implement any type of vulnerability test.">
    <meta name="robots" content="index, follow">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@libellux1">
    <meta name="twitter:title" content="Libellux">
    <meta name="twitter:description" content="Libellux Up and Running is a collection of personal notes and documentation regarding open-source software configuration. The focus is to build a so called Zero Trust Network using a central authentication server to enhance the security for our existing applications. We will manage our network using an open-source software tool for provisioning and configuration management to automate and speed up productivity.">
    <meta name="twitter:image" content="https://www.libellux.com/img/icons/4096x4096.png">
    <meta name="twitter:width" content="4096">
    <meta name="twitter:height" content="4096">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Libellux">
    <meta property="og:description" content="Libellux Up and Running is a collection of personal notes and documentation regarding open-source software configuration. The focus is to build a so called Zero Trust Network using a central authentication server to enhance the security for our existing applications. We will manage our network using an open-source software tool for provisioning and configuration management to automate and speed up productivity.">
    <meta property="og:url" content="https://www.libellux.com">
    <meta property="og:site_name" content="Libellux">
    <meta property="og:publisher" content="https://www.facebook.com/libellux1">
    <meta property="og:author" content="https://www.facebook.com/fredrik.hilmersson.1">
    <meta property="og:image" content="https://www.libellux.com/img/icons/1200x627.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="627">
    <meta name="msapplication-TileImage" content="https://www.libellux.com/img/icons/144x144.png">
    <meta name="google-site-verification" content="ETZL1kPGWFR91LmM1H7-ahMFCFKID7P2aXf3k29ISWw">
    
    <link rel="preload" href="/assets/css/0.styles.f2632a43.css" as="style"><link rel="preload" href="/assets/js/app.1809c8fc.js" as="script"><link rel="preload" href="/assets/js/2.1fa7b86f.js" as="script"><link rel="preload" href="/assets/js/18.1fc9106d.js" as="script"><link rel="preload" href="/assets/js/7.b9189f98.js" as="script"><link rel="preload" href="/assets/js/4.5dc45874.js" as="script"><link rel="preload" href="/assets/js/3.684a3d09.js" as="script"><link rel="prefetch" href="/assets/js/10.d9c32632.js"><link rel="prefetch" href="/assets/js/11.914d0419.js"><link rel="prefetch" href="/assets/js/12.a420a700.js"><link rel="prefetch" href="/assets/js/13.c49aebec.js"><link rel="prefetch" href="/assets/js/14.ecf50b93.js"><link rel="prefetch" href="/assets/js/15.9a2077b1.js"><link rel="prefetch" href="/assets/js/16.d24f53c6.js"><link rel="prefetch" href="/assets/js/17.4e9092fa.js"><link rel="prefetch" href="/assets/js/19.0e09e11a.js"><link rel="prefetch" href="/assets/js/20.03f8f3ab.js"><link rel="prefetch" href="/assets/js/21.8c36567b.js"><link rel="prefetch" href="/assets/js/22.6070ace0.js"><link rel="prefetch" href="/assets/js/23.a1e3fb3c.js"><link rel="prefetch" href="/assets/js/24.13b8bfbc.js"><link rel="prefetch" href="/assets/js/25.76e8700d.js"><link rel="prefetch" href="/assets/js/26.7df6700e.js"><link rel="prefetch" href="/assets/js/27.4051b4fc.js"><link rel="prefetch" href="/assets/js/28.697fc05e.js"><link rel="prefetch" href="/assets/js/5.e9ca35a7.js"><link rel="prefetch" href="/assets/js/6.df9a7d2a.js"><link rel="prefetch" href="/assets/js/8.7940142b.js"><link rel="prefetch" href="/assets/js/9.7cc5b7f5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f2632a43.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/icons/72x72.png" alt="Libellux" class="logo"> <span class="site-name can-hide">Libellux</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Libellux: Up and Running
</a></div><div class="nav-item"><a href="https://portal.libellux.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portal
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/libellux/Libellux-Up-and-Running" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Libellux: Up and Running
</a></div><div class="nav-item"><a href="https://portal.libellux.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portal
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/libellux/Libellux-Up-and-Running" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Libellux: Up and Running</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Zero Trust Network</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wireguard/" class="sidebar-link">WireGuard Secure VPN Tunnel</a></li><li><a href="/privacyidea/" class="sidebar-link">Two-factor authentication w/ privacyIDEA and YubiKey</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Intrusion Detection and Prevention</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ossec/" class="sidebar-link">OSSEC Host Intrusion Detection</a></li><li><a href="/psad/" class="sidebar-link">PSAD Intrusion Detection</a></li><li><a href="/openvas/" aria-current="page" class="active sidebar-link">Greenbone Vulnerability Manager</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/openvas/#configuration-files" class="sidebar-link">Configuration files</a></li><li class="sidebar-sub-header"><a href="/openvas/#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/openvas/#install-gvm-21-04-from-source" class="sidebar-link">Install GVM 21.04 from source</a></li><li class="sidebar-sub-header"><a href="/openvas/#install-gvm-20-08-centos" class="sidebar-link">Install GVM 20.08 CentOS</a></li><li class="sidebar-sub-header"><a href="/openvas/#running-vulnerability-scans" class="sidebar-link">Running vulnerability scans</a></li><li class="sidebar-sub-header"><a href="/openvas/#two-factor-authentication-w-privacyidea" class="sidebar-link">Two-factor authentication w/ privacyIDEA</a></li><li class="sidebar-sub-header"><a href="/openvas/#install-openvas-9-community-version" class="sidebar-link">Install OpenVAS-9 community version</a></li><li class="sidebar-sub-header"><a href="/openvas/#gvm-behind-nginx-proxy" class="sidebar-link">GVM behind NGINX Proxy</a></li><li class="sidebar-sub-header"><a href="/openvas/#scheduled-jobs" class="sidebar-link">Scheduled jobs</a></li><li class="sidebar-sub-header"><a href="/openvas/#troubleshooting" class="sidebar-link">Troubleshooting</a></li><li class="sidebar-sub-header"><a href="/openvas/#enterprise-solutions" class="sidebar-link">Enterprise solutions</a></li></ul></li><li><a href="/clamav/" class="sidebar-link">ClamAV Antivirus Server</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Monitoring and Management</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mmonit/" class="sidebar-link">M/Monit System Monitoring</a></li><li><a href="/pcp/" class="sidebar-link">Performance Co-Pilot Grafana</a></li><li><a href="/graylog/" class="sidebar-link">Graylog Centralized Log Management</a></li><li><a href="/rsyslog/" class="sidebar-link">Rsyslog Log Processing</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jira/" class="sidebar-link">Jira Software</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="greenbone-vulnerability-manager"><a href="#greenbone-vulnerability-manager" class="header-anchor">#</a> Greenbone Vulnerability Manager</h1> <div>
  Tags:
  <a href="/tags.html#vulnerability">
    vulnerability
  </a><a href="/tags.html#scanner">
    scanner
  </a><a href="/tags.html#security">
    security
  </a></div> <p>OpenVAS is a full-featured vulnerability scanner. Its capabilities include unauthenticated testing, authenticated testing, various high level and low level Internet and industrial protocols, performance tuning for large-scale scans and a powerful internal programming language to implement any type of vulnerability test.</p> <p><a href="https://www.greenbone.net/en/vulnerability-management/" target="_blank" rel="noopener noreferrer">GVM website<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.openvas.org/" target="_blank" rel="noopener noreferrer">OpenVAS website<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/greenbone/openvas" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://greenbone.github.io/docs/" target="_blank" rel="noopener noreferrer">GVM official docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Setup and configuration has been tested on the following operating systems:</p> <ul><li>Ubuntu- 16.04, 18.04, 20.04, CentOS 8</li> <li>GVM 20.08 for Debian 10 visit <a href="https://sadsloth.net/post/install-gvm-20_08-src-on-debian/" target="_blank" rel="noopener noreferrer">sadsloth.net<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>GVM-9 (OpenVAS-9), Atomicorp 20.08 (RHEL 8, CentOS 8, Fedora 32), GVM- 20.08, 20.08.1, 21.04, 21.4.2</li></ul> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>GVM-9 (OpenVAS-9) reached end-of-life support. GVM 10 and 11 will reach end-of-life support in the end of 2020.</p></div> <h2 id="configuration-files"><a href="#configuration-files" class="header-anchor">#</a> Configuration files</h2> <div class="custom-block tip"><p class="custom-block-title">INFO</p> <p>The lines in the &quot;scripts&quot; below has been used for testing and successfully configure GVM 20.08 (20.08.1) and 21.04 (21.4.2).
You may use the testing guide to install GVM or follow our detailed step-by-step tutorial below to install GVM 21.04.</p></div> <ul><li><a href="https://github.com/libellux/Libellux-Up-and-Running/blob/master/docs/openvas/config/21_4_2.sh" target="_blank" rel="noopener noreferrer">21.4.2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/libellux/Libellux-Up-and-Running/blob/master/docs/openvas/config/20_08_1.sh" target="_blank" rel="noopener noreferrer">20.08.1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>Dependencies required to install GVM 21.04 (21.4.2) from source on Ubuntu 20.04:</p> <ul><li><code>build-essential</code></li> <li><code>cmake</code></li> <li><code>gnutls-bin</code></li> <li><code>pkg-config</code></li> <li><code>glib2.0</code></li> <li><code>libgnutls28-dev</code></li> <li><code>libssh-dev</code></li> <li><code>libssl-dev</code></li> <li><code>libhiredis-dev</code></li> <li><code>redis-server</code></li> <li><code>libxml2-dev</code></li> <li><code>doxygen</code></li> <li><code>xsltproc</code></li> <li><code>libldap2-dev</code></li> <li><code>libgcrypt-dev</code></li> <li><code>libpcap-dev</code></li> <li><code>libgpgme-dev</code></li> <li><code>libradcli-dev</code></li> <li><code>graphviz</code></li> <li><code>bison</code></li> <li><code>libksba-dev</code></li> <li><code>libical-dev</code></li> <li><code>libpq-dev</code></li> <li><code>postgresql</code></li> <li><code>postgresql-contrib</code></li> <li><code>postgresql-server-dev-all</code></li> <li><code>libopenvas-dev</code></li> <li><code>heimdal-dev</code></li> <li><code>libpopt-dev</code></li> <li><code>xmltoman</code></li> <li><code>gcc-mingw-w64</code></li> <li><code>nmap</code></li> <li><code>npm</code></li> <li><code>nodejs</code></li> <li><code>libpthread-stubs0-dev</code></li> <li><code>clang-format</code></li> <li><code>libmicrohttpd-dev</code></li> <li><code>yarn</code></li> <li><code>virtualenv</code></li> <li><code>python3-paramiko</code></li> <li><code>python3-lxml</code></li> <li><code>python3-defusedxml</code></li> <li><code>python3-pip</code></li> <li><code>python3-psutil</code></li> <li><code>libnet1-dev</code></li> <li><code>libunistring-dev</code></li></ul> <h2 id="install-gvm-21-04-from-source"><a href="#install-gvm-21-04-from-source" class="header-anchor">#</a> Install GVM 21.04 from source <span class="badge default" style="vertical-align:top;" data-v-15b7b770>Rev 6</span></h2> <p>Before we will install the latest version of Greenbone Vulnerability Manager (GVM) 21.04 (21.4.2) make sure your system is up-to-date.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get update
server@ubuntu:~$ sudo apt-get upgrade
</code></pre></div><p>Proceed to install all the dependencies for GVM 21.04 (21.4.2) on Ubuntu 20.04.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get update &amp;&amp; \
sudo apt-get -y upgrade &amp;&amp; \
sudo apt-get install -y build-essential &amp;&amp; \
sudo apt-get install -y cmake pkg-config glib2.0 gcc-mingw-w64 \
gnutls-bin libgnutls28-dev libxml2-dev libssh-dev libssl-dev libunistring-dev \
libldap2-dev libgcrypt-dev libpcap-dev libgpgme-dev libradcli-dev \
libksba-dev libical-dev libpq-dev libopenvas-dev libpopt-dev libnet1-dev \
libmicrohttpd-dev redis-server libhiredis-dev doxygen xsltproc \
graphviz bison postgresql postgresql-contrib postgresql-server-dev-all \
heimdal-dev xmltoman nmap npm nodejs virtualenv \
python3-paramiko python3-lxml python3-defusedxml python3-pip python3-psutil
</code></pre></div><p>Continue to install yarn using npm with the specified installation path.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo npm install -g yarn --prefix /usr/
</code></pre></div><h3 id="set-up-gvm-user-and-group"><a href="#set-up-gvm-user-and-group" class="header-anchor">#</a> Set up GVM user and group</h3> <p>Lets create the GVM user and add it to sudoers group without login.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo useradd -r -M -U -G sudo -s /usr/sbin/nologin gvm
</code></pre></div><p>Next add your current sudo users to the GVM group so you're allowed to run <em>gvmd</em>.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo usermod -aG gvm $USER
</code></pre></div><p>Make sure that the group change is updated by running the below command.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ su $USER
</code></pre></div><h3 id="define-paths"><a href="#define-paths" class="header-anchor">#</a> Define paths</h3> <p>Next we will define base, source, build and installation directory. First lets set up the base path.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export PATH=$PATH:/usr/local/sbin
server@ubuntu:~$ export INSTALL_PREFIX=/usr/local
</code></pre></div><p>Continue to setup the source directory.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export SOURCE_DIR=$HOME/source
server@ubuntu:~$ mkdir -p $SOURCE_DIR
</code></pre></div><p>Next set and create the build directory.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export BUILD_DIR=$HOME/build
server@ubuntu:~$ mkdir -p $BUILD_DIR
</code></pre></div><p>Finally set up the installation directory.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export INSTALL_DIR=$HOME/install
server@ubuntu:~$ mkdir -p $INSTALL_DIR
</code></pre></div><h3 id="import-gvm-signing-key-to-validate-the-integrity-of-the-source-files"><a href="#import-gvm-signing-key-to-validate-the-integrity-of-the-source-files" class="header-anchor">#</a> Import GVM signing key to validate the integrity of the source files</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-text"><code>server@ubuntu:~$ curl -O https://www.greenbone.net/GBCommunitySigningKey.asc
server@ubuntu:~$ gpg --import GBCommunitySigningKey.asc

gpg: /home/$USER/.gnupg/trustdb.gpg: trustdb created
gpg: key 9823FAA60ED1E580: public key &quot;Greenbone Community Feed integrity key&quot; imported
gpg: Total number processed: 1
gpg:               imported: 1
</code></pre></div><p>Next edit and add the GPG key to the ultimately trusted list.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ gpg --edit-key 9823FAA60ED1E580
</code></pre></div><p>You'll be presented with following information and options as below. First type <em>trust</em> and select option 5 (I trust ultimately).</p> <div class="language- extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

pub  rsa4096/9823FAA60ED1E580
     created: 2017-09-06  expires: never       usage: SC
     trust: unknown       validity: unknown
[ unknown] (1). Greenbone Community Feed integrity key

gpg&gt; trust
pub  rsa4096/9823FAA60ED1E580
     created: 2017-09-06  expires: never       usage: SC
     trust: unknown       validity: unknown
[ unknown] (1). Greenbone Community Feed integrity key

Please decide how far you trust this user to correctly verify other users' keys
(by looking at passports, checking fingerprints from different sources, etc.)

  1 = I don't know or won't say
  2 = I do NOT trust
  3 = I trust marginally
  4 = I trust fully
  5 = I trust ultimately
  m = back to the main menu

Your decision? 5
Do you really want to set this key to ultimate trust? (y/N) y

pub  rsa4096/9823FAA60ED1E580
     created: 2017-09-06  expires: never       usage: SC
     trust: ultimate      validity: unknown
[ unknown] (1). Greenbone Community Feed integrity key
Please note that the shown key validity is not necessarily correct
unless you restart the program.

gpg&gt; quit
</code></pre></div><h3 id="specify-greenbone-vulnerability-manager-version"><a href="#specify-greenbone-vulnerability-manager-version" class="header-anchor">#</a> Specify Greenbone Vulnerability Manager version</h3> <p>Set the GVM version to 21.4.2.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export GVM_VERSION=21.4.2
</code></pre></div><h3 id="build-gvm-libraries"><a href="#build-gvm-libraries" class="header-anchor">#</a> Build GVM libraries</h3> <p>Download and build the <a href="https://github.com/greenbone/gvm-libs" target="_blank" rel="noopener noreferrer">GVM libraries<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> version 21.04 (21.4.1). Set the GVM libraries to same version as GVM.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export GVM_LIBS_VERSION=$GVM_VERSION
</code></pre></div><p>Download the specified GVM libraries version.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ curl -f -L https://github.com/greenbone/gvm-libs/archive/refs/tags/v$GVM_LIBS_VERSION.tar.gz -o $SOURCE_DIR/gvm-libs-$GVM_LIBS_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/gvm-libs/releases/download/v$GVM_LIBS_VERSION/gvm-libs-$GVM_LIBS_VERSION.tar.gz.asc -o $SOURCE_DIR/gvm-libs-$GVM_LIBS_VERSION.tar.gz.asc
</code></pre></div><p>Verify the GVM libraries.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ gpg --verify $SOURCE_DIR/gvm-libs-$GVM_LIBS_VERSION.tar.gz.asc $SOURCE_DIR/gvm-libs-$GVM_LIBS_VERSION.tar.gz
</code></pre></div><p>Make sure the output says that the signature from Greenbone Community Feed is good.</p> <div class="language- extra-class"><pre class="language-text"><code>gpg: Signature made Tue 03 Aug 2021 12:11:44 PM UTC
gpg:                using RSA key 8AE4BE429B60A59B311C2E739823FAA60ED1E580
gpg: Good signature from &quot;Greenbone Community Feed integrity key&quot; [ultimate]
</code></pre></div><p>Continue to extract the gvm-libs file.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ tar -C $SOURCE_DIR -xvzf $SOURCE_DIR/gvm-libs-$GVM_LIBS_VERSION.tar.gz
</code></pre></div><p>Next create build folder for gvm-libs.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ mkdir -p $BUILD_DIR/gvm-libs &amp;&amp; cd $BUILD_DIR/gvm-libs
</code></pre></div><p>Proceed to build the gvm-libs source.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ cmake $SOURCE_DIR/gvm-libs-$GVM_LIBS_VERSION \
  -DCMAKE_INSTALL_PREFIX=$INSTALL_PREFIX \
  -DCMAKE_BUILD_TYPE=Release \
  -DSYSCONFDIR=/etc \
  -DLOCALSTATEDIR=/var \
  -DGVM_PID_DIR=/run/gvm
</code></pre></div><p>Install gvm-libs by running the command below.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ make DESTDIR=$INSTALL_DIR install
</code></pre></div><p>Finally clean up.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp -rv $INSTALL_DIR/* /
server@ubuntu:~$ rm -rf $INSTALL_DIR/*
</code></pre></div><h3 id="build-the-greenbone-vulnerability-manager"><a href="#build-the-greenbone-vulnerability-manager" class="header-anchor">#</a> Build the Greenbone Vulnerability Manager</h3> <p>Next download and build the <a href="https://github.com/greenbone/gvmd" target="_blank" rel="noopener noreferrer">Greenbone Vulnerability Manager (GVM)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> version 21.04 (21.4.3). Set the GVMD version to the latest realese 21.4.3.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export GVMD_VERSION=21.4.3
</code></pre></div><p>Proceed to download set version.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ curl -f -L https://github.com/greenbone/gvmd/archive/refs/tags/v$GVMD_VERSION.tar.gz -o $SOURCE_DIR/gvmd-$GVMD_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/gvmd/releases/download/v$GVMD_VERSION/gvmd-$GVMD_VERSION.tar.gz.asc -o $SOURCE_DIR/gvmd-$GVMD_VERSION.tar.gz.asc
</code></pre></div><p>Verify the GVMD download.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ gpg --verify $SOURCE_DIR/gvmd-$GVMD_VERSION.tar.gz.asc $SOURCE_DIR/gvmd-$GVMD_VERSION.tar.gz
</code></pre></div><p>Make sure the output says that the signature from Greenbone Community Feed is good.</p> <div class="language- extra-class"><pre class="language-text"><code>gpg: Signature made Tue 03 Aug 2021 02:28:53 PM UTC
gpg:                using RSA key 8AE4BE429B60A59B311C2E739823FAA60ED1E580
gpg: Good signature from &quot;Greenbone Community Feed integrity key&quot; [ultimate]
</code></pre></div><p>Extract the downloaded GVMD file.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ tar -C $SOURCE_DIR -xvzf $SOURCE_DIR/gvmd-$GVMD_VERSION.tar.gz
</code></pre></div><p>Next create the build folder for GVMD.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ mkdir -p $BUILD_DIR/gvmd &amp;&amp; cd $BUILD_DIR/gvmd
</code></pre></div><p>Build GVMD running below command.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ cmake $SOURCE_DIR/gvmd-$GVMD_VERSION \
  -DCMAKE_INSTALL_PREFIX=$INSTALL_PREFIX \
  -DCMAKE_BUILD_TYPE=Release \
  -DLOCALSTATEDIR=/var \
  -DSYSCONFDIR=/etc \
  -DGVM_DATA_DIR=/var \
  -DGVM_RUN_DIR=/run/gvm \
  -DOPENVAS_DEFAULT_SOCKET=/run/ospd/ospd-openvas.sock \
  -DGVM_FEED_LOCK_PATH=/var/lib/gvm/feed-update.lock \
  -DSYSTEMD_SERVICE_DIR=/lib/systemd/system \
  -DDEFAULT_CONFIG_DIR=/etc/default \
  -DLOGROTATE_DIR=/etc/logrotate.d
</code></pre></div><p>Install GVMD.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ make DESTDIR=$INSTALL_DIR install
</code></pre></div><p>Clean up.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp -rv $INSTALL_DIR/* /
server@ubuntu:~$ rm -rf $INSTALL_DIR/*
</code></pre></div><h3 id="build-the-greenbone-security-assistant"><a href="#build-the-greenbone-security-assistant" class="header-anchor">#</a> Build the Greenbone Security Assistant</h3> <p>Proceed to download and build the <a href="https://github.com/greenbone/gsa" target="_blank" rel="noopener noreferrer">Greenbone Security Assistant (GSA)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> version 21.04 (21.4.2).</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export GSA_VERSION=$GVM_VERSION
</code></pre></div><p>Download Greenbone Security Assistant and its node modules.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ curl -f -L https://github.com/greenbone/gsa/archive/refs/tags/v$GSA_VERSION.tar.gz -o $SOURCE_DIR/gsa-$GSA_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/gsa/releases/download/v$GSA_VERSION/gsa-$GSA_VERSION.tar.gz.asc -o $SOURCE_DIR/gsa-$GSA_VERSION.tar.gz.asc
server@ubuntu:~$ curl -f -L https://github.com/greenbone/gsa/releases/download/v$GSA_VERSION/gsa-node-modules-$GSA_VERSION.tar.gz -o $SOURCE_DIR/gsa-node-modules-$GSA_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/gsa/releases/download/v$GSA_VERSION/gsa-node-modules-$GSA_VERSION.tar.gz.asc -o $SOURCE_DIR/gsa-node-modules-$GSA_VERSION.tar.gz.asc
</code></pre></div><p>Once complete verify the GSA downloads and make sure the signature from Greenbone Community Feed is good.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ gpg --verify $SOURCE_DIR/gsa-$GSA_VERSION.tar.gz.asc $SOURCE_DIR/gsa-$GSA_VERSION.tar.gz
server@ubuntu:~$ gpg --verify $SOURCE_DIR/gsa-node-modules-$GSA_VERSION.tar.gz.asc $SOURCE_DIR/gsa-node-modules-$GSA_VERSION.tar.gz
</code></pre></div><p>Extract the GSA and its node modules.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ tar -C $SOURCE_DIR -xvzf $SOURCE_DIR/gsa-$GSA_VERSION.tar.gz
server@ubuntu:~$ tar -C $SOURCE_DIR/gsa-$GSA_VERSION/gsa -xvzf $SOURCE_DIR/gsa-node-modules-$GSA_VERSION.tar.gz
</code></pre></div><p>Proceed to create the GSA build folder.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ mkdir -p $BUILD_DIR/gsa &amp;&amp; cd $BUILD_DIR/gsa
</code></pre></div><p>Once you've created the build folder build the GSA source.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ cmake $SOURCE_DIR/gsa-$GSA_VERSION \
  -DCMAKE_INSTALL_PREFIX=$INSTALL_PREFIX \
  -DCMAKE_BUILD_TYPE=Release \
  -DSYSCONFDIR=/etc \
  -DLOCALSTATEDIR=/var \
  -DGVM_RUN_DIR=/run/gvm \
  -DGSAD_PID_DIR=/run/gvm \
  -DLOGROTATE_DIR=/etc/logrotate.d
</code></pre></div><p>Next run the installation and clean up.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ make DESTDIR=$INSTALL_DIR install
server@ubuntu:~$ sudo cp -rv $INSTALL_DIR/* /
server@ubuntu:~$ rm -rf $INSTALL_DIR/*
</code></pre></div><h3 id="build-the-openvas-smb-module"><a href="#build-the-openvas-smb-module" class="header-anchor">#</a> Build the OpenVAS SMB module</h3> <p>Download and build the <a href="https://github.com/greenbone/openvas-smb" target="_blank" rel="noopener noreferrer">openvas-scanner (OpenVAS)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> version 21.04.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export OPENVAS_SMB_VERSION=21.4.0
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ curl -f -L https://github.com/greenbone/openvas-smb/archive/refs/tags/v$OPENVAS_SMB_VERSION.tar.gz -o $SOURCE_DIR/openvas-smb-$OPENVAS_SMB_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/openvas-smb/releases/download/v$OPENVAS_SMB_VERSION/openvas-smb-$OPENVAS_SMB_VERSION.tar.gz.asc -o $SOURCE_DIR/openvas-smb-$OPENVAS_SMB_VERSION.tar.gz.asc
</code></pre></div><p>Run the gpg command to verify the downloaded file.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ gpg --verify $SOURCE_DIR/openvas-smb-$OPENVAS_SMB_VERSION.tar.gz.asc $SOURCE_DIR/openvas-smb-$OPENVAS_SMB_VERSION.tar.gz
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>gpg: Signature made Fri 25 Jun 2021 06:36:43 AM UTC
gpg:                using RSA key 8AE4BE429B60A59B311C2E739823FAA60ED1E580
gpg: Good signature from &quot;Greenbone Community Feed integrity key&quot; [ultimate]
</code></pre></div><p>Extract files.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ tar -C $SOURCE_DIR -xvzf $SOURCE_DIR/openvas-smb-$OPENVAS_SMB_VERSION.tar.gz
</code></pre></div><p>Create the build folder.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ mkdir -p $BUILD_DIR/openvas-smb &amp;&amp; cd $BUILD_DIR/openvas-smb
</code></pre></div><p>Build openvas-smb to enable scans for Windows systems.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ cmake $SOURCE_DIR/openvas-smb-$OPENVAS_SMB_VERSION \
  -DCMAKE_INSTALL_PREFIX=$INSTALL_PREFIX \
  -DCMAKE_BUILD_TYPE=Release
</code></pre></div><p>Proceed with installation.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ make DESTDIR=$INSTALL_DIR install
</code></pre></div><p>Copy the installation and remove the temporary installation directory.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp -rv $INSTALL_DIR/* /
server@ubuntu:~$ rm -rf $INSTALL_DIR/*
</code></pre></div><h3 id="build-the-openvas-scanner"><a href="#build-the-openvas-scanner" class="header-anchor">#</a> Build the OpenVAS Scanner</h3> <p>Download and build the <a href="https://github.com/greenbone/openvas" target="_blank" rel="noopener noreferrer">openvas-scanner (OpenVAS)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> version 21.04 (21.4.1).</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export OPENVAS_SCANNER_VERSION=$GVM_VERSION
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ curl -f -L https://github.com/greenbone/openvas-scanner/archive/refs/tags/v$OPENVAS_SCANNER_VERSION.tar.gz -o $SOURCE_DIR/openvas-scanner-$OPENVAS_SCANNER_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/openvas-scanner/releases/download/v$OPENVAS_SCANNER_VERSION/openvas-scanner-$OPENVAS_SCANNER_VERSION.tar.gz.asc -o $SOURCE_DIR/openvas-scanner-$OPENVAS_SCANNER_VERSION.tar.gz.asc
</code></pre></div><p>As prior verify the downloaded source file.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ gpg --verify $SOURCE_DIR/openvas-scanner-$OPENVAS_SCANNER_VERSION.tar.gz.asc $SOURCE_DIR/openvas-scanner-$OPENVAS_SCANNER_VERSION.tar.gz
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>gpg: Signature made Tue 03 Aug 2021 12:59:52 PM UTC
gpg:                using RSA key 8AE4BE429B60A59B311C2E739823FAA60ED1E580
gpg: Good signature from &quot;Greenbone Community Feed integrity key&quot; [ultimate]
</code></pre></div><p>If all good proceed to extract the OpenVAS scanner.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ tar -C $SOURCE_DIR -xvzf $SOURCE_DIR/openvas-scanner-$OPENVAS_SCANNER_VERSION.tar.gz
</code></pre></div><p>Create the OpenVAS scanner build directory.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ mkdir -p $BUILD_DIR/openvas-scanner &amp;&amp; cd $BUILD_DIR/openvas-scanner
</code></pre></div><p>Build the OpenVAS scanner.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ cmake $SOURCE_DIR/openvas-scanner-$OPENVAS_SCANNER_VERSION \
  -DCMAKE_INSTALL_PREFIX=$INSTALL_PREFIX \
  -DCMAKE_BUILD_TYPE=Release \
  -DSYSCONFDIR=/etc \
  -DLOCALSTATEDIR=/var \
  -DOPENVAS_FEED_LOCK_PATH=/var/lib/openvas/feed-update.lock \
  -DOPENVAS_RUN_DIR=/run/ospd
</code></pre></div><p>Next install the scanner.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ make DESTDIR=$INSTALL_DIR install
</code></pre></div><p>Finally clean up.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp -rv $INSTALL_DIR/* /
server@ubuntu:~$ rm -rf $INSTALL_DIR/*
</code></pre></div><h3 id="download-and-install-the-base-class-ospd-21-4-3-for-scanner-wrappers-and-ospd-openvas-for-remote-control"><a href="#download-and-install-the-base-class-ospd-21-4-3-for-scanner-wrappers-and-ospd-openvas-for-remote-control" class="header-anchor">#</a> Download and install the base class ospd (21.4.3) for scanner wrappers and ospd-openvas for remote control</h3> <p>Proceed to download and install <a href="https://github.com/greenbone/ospd" target="_blank" rel="noopener noreferrer">ospd<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ export OSPD_VERSION=21.4.3
server@ubuntu:~$ export OSPD_OPENVAS_VERSION=$GVM_VERSION
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ curl -f -L https://github.com/greenbone/ospd/archive/refs/tags/v$OSPD_VERSION.tar.gz -o $SOURCE_DIR/ospd-$OSPD_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/ospd/releases/download/v$OSPD_VERSION/ospd-$OSPD_VERSION.tar.gz.asc -o $SOURCE_DIR/ospd-$OSPD_VERSION.tar.gz.asc
server@ubuntu:~$ curl -f -L https://github.com/greenbone/ospd-openvas/archive/refs/tags/v$OSPD_OPENVAS_VERSION.tar.gz -o $SOURCE_DIR/ospd-openvas-$OSPD_OPENVAS_VERSION.tar.gz
server@ubuntu:~$ curl -f -L https://github.com/greenbone/ospd-openvas/releases/download/v$OSPD_OPENVAS_VERSION/ospd-openvas-$OSPD_OPENVAS_VERSION.tar.gz.asc -o $SOURCE_DIR/ospd-openvas-$OSPD_OPENVAS_VERSION.tar.gz.asc
</code></pre></div><p>Verify ospd and ospd-openvas.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ gpg --verify $SOURCE_DIR/ospd-$OSPD_VERSION.tar.gz.asc $SOURCE_DIR/ospd-$OSPD_VERSION.tar.gz
server@ubuntu:~$ gpg --verify $SOURCE_DIR/ospd-openvas-$OSPD_OPENVAS_VERSION.tar.gz.asc $SOURCE_DIR/ospd-openvas-$OSPD_OPENVAS_VERSION.tar.gz
</code></pre></div><p>Continue by extracting both files.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ tar -C $SOURCE_DIR -xvzf $SOURCE_DIR/ospd-$OSPD_VERSION.tar.gz
server@ubuntu:~$ tar -C $SOURCE_DIR -xvzf $SOURCE_DIR/ospd-openvas-$OSPD_OPENVAS_VERSION.tar.gz
</code></pre></div><p>Before you install ospd and ospd-openvas make sure that you've got the required version of python3-psutil (5.7.2).</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ pip install --upgrade psutil==5.7.2

</code></pre></div><p>Once you've installed Python3-psutil 5.7.2 go to the source directory of ospd.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ cd $SOURCE_DIR/ospd-$OSPD_VERSION
</code></pre></div><p>Run the installation.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ python3 -m pip install . --prefix=$INSTALL_PREFIX --root=$INSTALL_DIR
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>Successfully built ospd wrapt
Installing collected packages: wrapt, deprecated, ospd
Successfully installed deprecated-1.2.12 ospd-21.4.3 wrapt-1.12.1
</code></pre></div><p>Proceed to install ospd-openvas and go to its source directory.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ cd $SOURCE_DIR/ospd-openvas-$OSPD_OPENVAS_VERSION
</code></pre></div><p>Run the ospd-openvas installation.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ python3 -m pip install . --prefix=$INSTALL_PREFIX --root=$INSTALL_DIR --no-warn-script-location
</code></pre></div><p>Clean up.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp -rv $INSTALL_DIR/* /
server@ubuntu:~$ rm -rf $INSTALL_DIR/*
</code></pre></div><h3 id="build-the-gvm-tools"><a href="#build-the-gvm-tools" class="header-anchor">#</a> Build the GVM tools</h3> <p>Install <a href="https://github.com/greenbone/gvm-tools" target="_blank" rel="noopener noreferrer">GVM tools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> version 21.04 (21.6.1).</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ python3 -m pip install --user gvm-tools
</code></pre></div><h3 id="configure-redis"><a href="#configure-redis" class="header-anchor">#</a> Configure Redis</h3> <p>Next configure redis for the default GVM installation.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp $SOURCE_DIR/openvas-scanner-$GVM_VERSION/config/redis-openvas.conf /etc/redis/
server@ubuntu:~$ sudo chown redis:redis /etc/redis/redis-openvas.conf
server@ubuntu:~$ echo &quot;db_address = /run/redis-openvas/redis.sock&quot; | sudo tee -a /etc/openvas/openvas.conf
</code></pre></div><p>Start the redis server and enable it as an start up service.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo systemctl start redis-server@openvas.service
server@ubuntu:~$ sudo systemctl enable redis-server@openvas.service
</code></pre></div><p>Add redis to the GVM group.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo usermod -aG redis gvm
</code></pre></div><h3 id="set-up-gvm-user-permissions"><a href="#set-up-gvm-user-permissions" class="header-anchor">#</a> Set up GVM user permissions</h3> <p>Make sure that the GVM user and the GVM group has correct permissions.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo chown -R gvm:gvm /var/lib/gvm
server@ubuntu:~$ sudo chown -R gvm:gvm /var/lib/openvas
server@ubuntu:~$ sudo chown -R gvm:gvm /var/log/gvm
server@ubuntu:~$ sudo chown -R gvm:gvm /run/gvm
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo chmod -R g+srw /var/lib/gvm
server@ubuntu:~$ sudo chmod -R g+srw /var/lib/openvas
server@ubuntu:~$ sudo chmod -R g+srw /var/log/gvm
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo chown gvm:gvm /usr/local/sbin/gvmd
server@ubuntu:~$ sudo chmod 6750 /usr/local/sbin/gvmd
</code></pre></div><p>You also need to adjust the permissions for the feed synchronization.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo chown gvm:gvm /usr/local/bin/greenbone-nvt-sync
server@ubuntu:~$ sudo chmod 740 /usr/local/sbin/greenbone-feed-sync
server@ubuntu:~$ sudo chown gvm:gvm /usr/local/sbin/greenbone-*-sync
server@ubuntu:~$ sudo chmod 740 /usr/local/sbin/greenbone-*-sync
</code></pre></div><p>OpenVAS will be launched from an ospd-openvas process. The process need to be executed using root. Update the secure path in the sudoers file accordingly.</p> <div class="language- extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-text"><code># Allow members of group sudo to execute any command
%sudo   ALL=(ALL:ALL) ALL

# allow users of the gvm group run openvas
%gvm ALL = NOPASSWD: /usr/local/sbin/openvas
</code></pre></div><h3 id="configure-postgresql-database"><a href="#configure-postgresql-database" class="header-anchor">#</a> Configure PostgreSQL database</h3> <p>For additional information see reference greenbone/gvmd <a href="https://github.com/greenbone/gvmd/blob/master/INSTALL.md" target="_blank" rel="noopener noreferrer">INSTALL.md<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>First make sure that the required dependencies have been installed (see <a href="#prerequisites">Prerequisites</a>). Proceed to create a Postgres user and database.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo -u postgres bash
postgres@ubuntu:/home/server$ createuser -DRS gvm
postgres@ubuntu:/home/server$ createdb -O gvm gvmd
</code></pre></div><p>Setup correct permissions.</p> <div class="language- extra-class"><pre class="language-text"><code>postgres@ubuntu:/home/server$ psql gvmd
gvmd=# create role dba with superuser noinherit;
gvmd=# grant dba to gvm;
</code></pre></div><p>Create database extensions.</p> <div class="language- extra-class"><pre class="language-text"><code>gvmd=# create extension &quot;uuid-ossp&quot;;
gvmd=# create extension &quot;pgcrypto&quot;;
gvmd=# exit
postgres@ubuntu:/home/server$ exit
</code></pre></div><h3 id="create-gvm-admin"><a href="#create-gvm-admin" class="header-anchor">#</a> Create GVM admin</h3> <p>Create the GVM administration user. Do not forget to change the password later.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>Do not use special characters in the password.</p></div> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo /usr/local/sbin/gvmd --create-user=admin --password=admin
User created.
</code></pre></div><p>Next, lets retrieve our administrators uuid.</p> <div class="language- extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br></div><pre class="language-text"><code>server@ubuntu:~$ sudo gvmd --get-users --verbose
admin 0279ba6c-391a-472f-8cbd-1f6eb808823b
</code></pre></div><p>Use the administration uuid and modify the gvmd settings. Remember to put your uuid as the value option.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo gvmd --modify-setting 78eceaec-3385-11ea-b237-28d24461215b --value UUID_HERE
</code></pre></div><h3 id="update-network-vulnerability-tests"><a href="#update-network-vulnerability-tests" class="header-anchor">#</a> Update Network Vulnerability Tests</h3> <p>Update Network Vulnerability Tests (NVT) from Greenbone Community Feed (this might take awhile).</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo -u gvm greenbone-nvt-sync
</code></pre></div><h3 id="update-greenbone-feed-synchronisation"><a href="#update-greenbone-feed-synchronisation" class="header-anchor">#</a> Update Greenbone Feed synchronisation</h3> <p>Update the Greenbone feed synchronisation one at the time (this might take awhile).</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo -u gvm greenbone-feed-sync --type GVMD_DATA
server@ubuntu:~$ sudo -u gvm greenbone-feed-sync --type SCAP
server@ubuntu:~$ sudo -u gvm greenbone-feed-sync --type CERT
</code></pre></div><h3 id="generate-gvm-certificates"><a href="#generate-gvm-certificates" class="header-anchor">#</a> Generate GVM certificates</h3> <p>Once we've finished the feed synchronisation generate GVM certificates.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo -u gvm gvm-manage-certs -a
</code></pre></div><h3 id="set-up-systemd"><a href="#set-up-systemd" class="header-anchor">#</a> Set up systemd</h3> <p>Next setup the startup scripts. First, configure the Greenbone Manager startup script.</p> <div class="language- extra-class"><pre class="language-text"><code>cat &lt;&lt; EOF &gt; $BUILD_DIR/gvmd.service
[Unit]
Description=Greenbone Vulnerability Manager daemon (gvmd)
After=network.target networking.service postgresql.service ospd-openvas.service
Wants=postgresql.service ospd-openvas.service
Documentation=man:gvmd(8)
ConditionKernelCommandLine=!recovery

[Service]
Type=forking
User=gvm
Group=gvm
PIDFile=/run/gvm/gvmd.pid
RuntimeDirectory=gvm
RuntimeDirectoryMode=2775
ExecStart=/usr/local/sbin/gvmd --osp-vt-update=/run/ospd/ospd-openvas.sock --listen-group=gvm
Restart=always
TimeoutStopSec=10

[Install]
WantedBy=multi-user.target
EOF
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp $BUILD_DIR/gvmd.service /etc/systemd/system/
</code></pre></div><p>Once the first startup script is saved, proceed to create the script for the Greenbone Security Assistant (GSA).</p> <div class="language- extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>cat &lt;&lt; EOF &gt; $BUILD_DIR/gsad.service
[Unit]
Description=Greenbone Security Assistant daemon (gsad)
Documentation=man:gsad(8) https://www.greenbone.net
After=network.target gvmd.service
Wants=gvmd.service

[Service]
Type=forking
User=gvm
Group=gvm
PIDFile=/run/gvm/gsad.pid
ExecStart=/usr/local/sbin/gsad --listen=192.168.0.1 --port=9392
Restart=always
TimeoutStopSec=10

[Install]
WantedBy=multi-user.target
Alias=greenbone-security-assistant.service
EOF
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp $BUILD_DIR/gsad.service /etc/systemd/system/
</code></pre></div><p>Create the systemd service script for ospd-openvas.</p> <div class="language- extra-class"><pre class="language-text"><code>cat &lt;&lt; EOF &gt; $BUILD_DIR/ospd-openvas.service
[Unit]
Description=OSPd Wrapper for the OpenVAS Scanner (ospd-openvas)
Documentation=man:ospd-openvas(8) man:openvas(8)
After=network.target networking.service redis-server@openvas.service
Wants=redis-server@openvas.service
ConditionKernelCommandLine=!recovery

[Service]
Type=forking
User=gvm
Group=gvm
RuntimeDirectory=ospd
RuntimeDirectoryMode=2775
PIDFile=/run/ospd/ospd-openvas.pid
ExecStart=/usr/local/bin/ospd-openvas --unix-socket /run/ospd/ospd-openvas.sock --pid-file /run/ospd/ospd-openvas.pid --log-file /var/log/gvm/ospd-openvas.log --lock-file-dir /var/lib/openvas --socket-mode 0o770
SuccessExitStatus=SIGKILL
Restart=always
RestartSec=60

[Install]
WantedBy=multi-user.target
EOF
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo cp $BUILD_DIR/ospd-openvas.service /etc/systemd/system/
</code></pre></div><h3 id="modify-scanner"><a href="#modify-scanner" class="header-anchor">#</a> Modify scanner</h3> <p>Before running vulnerability scans, also known as tasks, you need to modify the default OpenVAS scanner. Get the pre-exisiting scanners by running command below. Copy the UUID from the OpenVAS Default Scanner.</p> <div class="language- extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br></div><pre class="language-text"><code>server@ubuntu:~$ sudo gvmd --get-scanners
6acd0832-df90-11e4-b9d5-28d24461215b  CVE    0  CVE
08b69003-5fc2-4037-a479-93b440211c73  OpenVAS  /opt/gvm/var/run/ospd.sock  0  OpenVAS Default
</code></pre></div><p>Next run the modification command and attach the UUID to the scanner host socket.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo gvmd --modify-scanner=08b69003-5fc2-4037-a479-93b440211c73 --scanner-host=/opt/gvm/var/run/ospd.sock
Scanner modified.
</code></pre></div><h3 id="enable-and-start-services"><a href="#enable-and-start-services" class="header-anchor">#</a> Enable and start services</h3> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo systemctl daemon-reload
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo systemctl enable ospd-openvas
server@ubuntu:~$ sudo systemctl enable gvmd
server@ubuntu:~$ sudo systemctl enable gsad
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo systemctl start ospd-openvas
server@ubuntu:~$ sudo systemctl start gvmd
server@ubuntu:~$ sudo systemctl start gsad
</code></pre></div><p>Next check that all the services are running.</p> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-text"><code>server@ubuntu:~$ sudo systemctl status gvmd
● gvmd.service - Greenbone Vulnerability Manager daemon (gvmd)
     Loaded: loaded (/etc/systemd/system/gvmd.service; enabled; vendor preset: enabled)
     Active: active (running) since Sat 2021-08-28 20:23:46 UTC; 54min ago
server@ubuntu:~$ sudo systemctl status gsad
● gsad.service - Greenbone Security Assistant daemon (gsad)
     Loaded: loaded (/etc/systemd/system/gsad.service; enabled; vendor preset: enabled)
     Active: active (running) since Sat 2021-08-28 20:50:09 UTC; 28min ago
server@ubuntu:~$ sudo systemctl status ospd-openvas
● ospd-openvas.service - OSPd Wrapper for the OpenVAS Scanner (ospd-openvas)
     Loaded: loaded (/etc/systemd/system/ospd-openvas.service; enabled; vendor preset: enabled)
     Active: active (running) since Sat 2021-08-28 20:48:04 UTC; 31min ago
</code></pre></div><p>Login at your localhost e.g. <code>https://192.168.0.1:9392</code> with the username <code>admin</code> and the chosen password.</p> <img src="/img/openvas/gsa_login-2.png" alt="GSA login" class="zoom-custom-imgs"> <p>Once logged in, go to the <em>Administration</em> tab and select <em>Feed Status</em>. You'll see that the update is in progress (this might take awhile). When the status changed to <em>current</em>, go to the dashboard and it will be populated with CVEs by creation time and NVTs by severity class.</p> <img src="/img/openvas/gsa_dashboard.png" alt="GSA dashboard" class="zoom-custom-imgs"> <p>You may also confirm the current version, go to the <em>Help</em> tab and select <em>About</em>.</p> <img src="/img/openvas/gsa_about.png" alt="GSA about" class="zoom-custom-imgs"> <p>To run basic vulnerability scans and get hands-on approach to get started with OpenVAS check the <a href="#running-vulnerability-scans">Running vulnerability scans</a> section.</p> <h2 id="install-gvm-20-08-centos"><a href="#install-gvm-20-08-centos" class="header-anchor">#</a> Install GVM 20.08 CentOS</h2> <p><a href="https://github.com/Atomicorp/openvas" target="_blank" rel="noopener noreferrer">Atomicorp GVM package<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <span class="badge default" style="vertical-align:top;" data-v-15b7b770>non-sponsored</span></p> <p>Check if SELinux is enabled.</p> <div class="language- extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-text"><code>server@centos:~$ sestatus
SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
</code></pre></div><p>If enabled proceed to disable SELinux by running the command below and update the SELinux configuration file.</p> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-text"><code>server@centos:~$ sudo setenforce 0
server@centos:~$ sudo nano /etc/selinux/config

# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=disabled
</code></pre></div><p>Save and reboot the system.</p> <div class="language- extra-class"><pre class="language-text"><code>server@centos:~$ sudo shutdown -r now
</code></pre></div><p>Once the system rebooted control that SELinux been disabled.</p> <div class="language- extra-class"><pre class="language-text"><code>server@centos:~$ sestatus
SELinux status:                 disabled
</code></pre></div><p>Continue and download the Atomicorp installer.</p> <div class="language- extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-text"><code>server@centos:~$ wget -q -O - https://updates.atomicorp.com/installers/atomic | sudo sh

For supported software packages please contact us at: 

  sales@atomicorp.com

Do you agree to these terms? (yes/no) [Default: yes] yes
Enable repo by default? (yes/no) [Default: yes]: yes
</code></pre></div><p>Enable PowerTools and install extra packages.</p> <div class="language- extra-class"><pre class="language-text"><code>server@centos:~$ sudo yum config-manager --set-enabled PowerTools
server@centos:~$ sudo yum install epel-release
</code></pre></div><p>Proceed and install GVM.</p> <div class="language- extra-class"><pre class="language-text"><code>server@centos:~$ sudo yum install gvm
</code></pre></div><p>Finally run the GVM configuration script to setup GVM (this might take awhile).</p> <div class="language- extra-class"><pre class="language-text"><code>server@centos:~$ sudo gvm-setup
</code></pre></div><p>Once the GVM setup been complete proceed to set the administrator password.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>Do not use special characters in the password.</p></div> <div class="language- extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-text"><code>Updating OpenVAS Manager certificates: Complete

GVMD startup: Done

Set the GSAD admin users password.
The admin user is used to configure accounts,
Update NVT's manually, and manage roles.

Enter Administrator Password:
Verify Administrator Password:

Setup complete
  Log in to GSAD at https://localhost
</code></pre></div><p>Login at your localhost e.g. <code>https://192.168.0.1</code> with the username <code>admin</code> and the chosen password.</p> <img src="/img/openvas/gsa_dashboard.png" alt="GSA dashboard" class="zoom-custom-imgs"> <h2 id="running-vulnerability-scans"><a href="#running-vulnerability-scans" class="header-anchor">#</a> Running vulnerability scans</h2> <p>There is several approaches on how to configure and run tasks (scans) toward your targets (hosts) in GVM. In this tutorial we will go through how to run the more basic tasks. We will do both unauthenticated scans, where we do not grant GVM SSH access to our target, and authenticated scans to help identify internal server vulnerabilites or misconfigurations.</p> <h3 id="unauthenticated-scan"><a href="#unauthenticated-scan" class="header-anchor">#</a> Unauthenticated scan</h3> <br> <p align="center"><video width="600" controls="controls" poster="/img/icons/video.png" style="witdth:100%;height:auto;"><source src="/vids/openvas/unauthenticated_scan.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video></p> <p>Login to the Greenbone Security Assistant (GSA) e.g. <code>https://192.168.0.1</code>. Once logged in we will add our first target. Go the the <em>Configuration</em> menu in the top navigation and select <em>Targets</em>.</p> <img src="/img/openvas/gsa_targets.png" alt="GSA targets" class="zoom-custom-imgs"> <p>In the top left corner of the <em>Targets</em> view there's a starred document icon, click and select to create a <em>New Target</em>. Fill in the name of the target server e.g. <em>Ubuntu Client</em> and its IP address <code>192.168.0.2</code>. Leave the rest of the settings in default.</p> <img src="/img/openvas/gsa_target.png" alt="GSA target" class="zoom-custom-imgs"> <p>Next we will create a task for unauthenticated targets (scans without SSH access). Go the <em>Scans</em> in the top menu and select <em>Tasks</em>.</p> <img src="/img/openvas/gsa_tasks.png" alt="GSA tasks" class="zoom-custom-imgs"> <p>Click the starred document icon in the top left corner of the <em>Tasks</em> view.</p> <img src="/img/openvas/gsa_task.png" alt="GSA task" class="zoom-custom-imgs"> <p>Select a descriptive name for your task e.g. Unauthenticated scan. In the <em>Scan Targets</em> dropdown menu select your target we created before (Ubuntu Client). Leave the default settings and click save.</p> <img src="/img/openvas/gsa_noauth_task.png" alt="GSA noauth task" class="zoom-custom-imgs"> <p>You will then be redirected back to the <em>Tasks</em> overview and our new task will be listed in the table below the graphs. To start the scan press the start button on the right side of the table.</p> <img src="/img/openvas/gsa_noauth_scan.png" alt="GSA noauth scan" class="zoom-custom-imgs"> <h3 id="authenticated-scan"><a href="#authenticated-scan" class="header-anchor">#</a> Authenticated scan</h3> <p>First make sure that you've generated SSH keys for your GVM client user e.g. <code>client@ubuntu</code>. Add your public key to the targets authorized keys file. You may have to connect to your target host, through SSH, before running GVM vulnerability scan to add the target host to your clients machine known hosts. Once you've established a secure communication between your client and target, proceed to configure credentials in the Greenbone Security Assistant. Go to <em>Configuration</em> and select <em>Credentials</em>.</p> <img src="/img/openvas/gsa_credentials.png" alt="GSA credentials" class="zoom-custom-imgs"> <p>Next click the starred document in the top left corner to create your new credentials. Give the credentials a desciptive name with an optional comment. In the dropdown menu <em>Type</em>, select <em>Username + SSH key</em> and disallow insecure use and auto-generation. Add the username of the target host user followed by the password and upload the private key (e.g. id_rsa). Click save.</p> <img src="/img/openvas/gsa_newcredentials.png" alt="GSA new credentials" class="zoom-custom-imgs"> <p>Go to the <em>Targets</em> section and either edit your <a href="#unauthenticated-scan">unauthenticated scan</a> or create a new target. Set the host IP address and in the dropdown menu, under the <em>Credentials for authentication checks</em>, select your newly created SSH credential.</p> <img src="/img/openvas/gsa_auth_target.png" alt="GSA auth target" class="zoom-custom-imgs"> <p>Finally create a new task and select the target that we attached our credentials to and leave the default settings.</p> <img src="/img/openvas/gsa_auth_task.png" alt="GSA auth task" class="zoom-custom-imgs"> <h2 id="two-factor-authentication-w-privacyidea"><a href="#two-factor-authentication-w-privacyidea" class="header-anchor">#</a> Two-factor authentication w/ privacyIDEA</h2> <p>To enforce two-factor authentication for Greenbone Security Assistant with privacyIDEA and YubiKey read the <a href="/privacyidea/">Two-factor authentication w/ privacyIDEA and YubiKey</a> chapter.</p> <h2 id="install-openvas-9-community-version"><a href="#install-openvas-9-community-version" class="header-anchor">#</a> Install OpenVAS-9 community version <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>deprecated</span></h2> <p>First add the OpenVAS PPA repository to your server.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo add-apt-repository ppa:mrazavi/openvas
</code></pre></div><p>Next we need to update and install the main packages.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get update
server@ubuntu:~$ sudo apt-get install openvas9
</code></pre></div><p>We will also install the OpenVAS9 dev package so we can run single OpenVAS nasl scripts, for fast troubleshooting. Additionaly we will also be adding the vulnerability data by syncing with the Greenbone feeds.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get install libopenvas9-dev
server@ubuntu:~$ sudo greenbone-nvt-sync
server@ubuntu:~$ sudo greenbone-scapdata-sync
server@ubuntu:~$ sudo greenbone-certdata-sync
</code></pre></div><p>To keep OpenVAS up-to-date to run the latest tests, we need to sync the nvt, scap and cert data regularly. To achieve this we will create a script and add it to our cron.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo nano /usr/local/bin/openvas-update
</code></pre></div><p>Add the following content to the openvas-update file.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>/usr/sbin/greenbone-nvt-sync
/usr/sbin/greenbone-certdata-sync
/usr/sbin/greenbone-scapdata-sync
/usr/sbin/openvasmd --update --verbose --progress
/etc/init.d/openvas-manager restart
/etc/init.d/openvas-scanner restart
</code></pre></div><p>Save the file and make it executable.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo chmod a+x /usr/local/bin/openvas-update
</code></pre></div><p>We will add the update script to cron with a nightly frequency.</p> <div class="language- extra-class"><pre class="language-text"><code>Nightly 0 0 * * * root /usr/local/bin/openvas-update
</code></pre></div><h2 id="gvm-behind-nginx-proxy"><a href="#gvm-behind-nginx-proxy" class="header-anchor">#</a> GVM behind NGINX Proxy</h2> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo nano /etc/default/openvas-gsa
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Defaults for Greenbone Security Assistant initscript</span>
<span class="token comment"># sourced by /etc/init.d/openvas-gsa</span>
<span class="token comment"># installed at /etc/default/openvas-gsa by the maintainer scripts</span>

<span class="token comment"># To disable HTTPS:</span>
<span class="token comment">#</span>
<span class="token comment">#HTTP_ONLY=1</span>

<span class="token comment"># To allow &lt;host&gt; as hostname/address part of a Host header:</span>
<span class="token comment">#</span>
<span class="token assign-left variable">ALLOW_HEADER_HOST</span><span class="token operator">=</span>openvas.example.com

<span class="token comment"># To enable http redirection:</span>
<span class="token comment">#</span>
<span class="token assign-left variable">HTTP_REDIRECT</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># To set listening address:</span>
<span class="token comment">#</span>
<span class="token assign-left variable">LISTEN_ADDRESS</span><span class="token operator">=</span><span class="token string">&quot;127.0.0.1&quot;</span>

<span class="token comment"># To set listening port number:</span>
<span class="token comment">#</span>
<span class="token assign-left variable">PORT_NUMBER</span><span class="token operator">=</span><span class="token number">4000</span>
</code></pre></div><p>Restart openvas-gsa <code>sudo systemctl restart openvas-gsa</code>. Edit the NGINX configuration to fit the environment.</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">443</span> ssl http2</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">listen</span> [::]:443 ssl http2</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> openvas.example.com</span><span class="token punctuation">;</span>

    <span class="token comment"># SSL CERTIFICATES</span>
    <span class="token directive"><span class="token keyword">ssl_certificate</span> /etc/nginx/ssl/openvas.example.com/server.crt</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_certificate_key</span> /etc/nginx/ssl/openvas.example.com/server.key</span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">ssl_protocols</span> TLSv1.2</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_ciphers</span> ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_prefer_server_ciphers</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">ssl_dhparam</span> /etc/nginx/dhparams.pem</span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">add_header</span> X-Frame-Options <span class="token string">&quot;SAMEORIGIN&quot;</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> X-XSS-Protection <span class="token string">&quot;1; mode=block&quot;</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">add_header</span> X-Content-Type-Options <span class="token string">&quot;nosniff&quot;</span></span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">index</span> index.html index.htm index.php</span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">charset</span> utf-8</span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">proxy_set_header</span>   Host             <span class="token variable">$http_host</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">proxy_set_header</span>   X-Real-IP        <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">proxy_set_header</span>   REMOTE_HOST      <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">proxy_set_header</span>   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">proxy_set_header</span>   X-FORWARDED-PROTOCOL <span class="token variable">$scheme</span></span><span class="token punctuation">;</span>  
        <span class="token directive"><span class="token keyword">proxy_pass</span> https://127.0.0.1:4000</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

   <span class="token directive"><span class="token keyword">location</span> = /favicon.ico</span> <span class="token punctuation">{</span> <span class="token directive"><span class="token keyword">access_log</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">log_not_found</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
   <span class="token directive"><span class="token keyword">location</span> = /robots.txt</span>  <span class="token punctuation">{</span> <span class="token directive"><span class="token keyword">access_log</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span> <span class="token directive"><span class="token keyword">log_not_found</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

   <span class="token directive"><span class="token keyword">access_log</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span>
   <span class="token directive"><span class="token keyword">error_log</span>  /var/log/nginx/openvas.example.com-error.log error</span><span class="token punctuation">;</span>

   <span class="token directive"><span class="token keyword">location</span> ~ /\.(?!well-known).*</span> <span class="token punctuation">{</span>
       <span class="token directive"><span class="token keyword">deny</span> all</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo systemctl reload nginx.service
</code></pre></div><h2 id="scheduled-jobs"><a href="#scheduled-jobs" class="header-anchor">#</a> Scheduled jobs</h2> <p>To keep the community feed up-to-date, first login as your GVM user.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo su - gvm
</code></pre></div><p>Create the file that we will populate with the required commands.</p> <div class="language- extra-class"><pre class="language-text"><code>gvm@ubuntu:~$ touch /opt/gvm/bin/openvas-update
</code></pre></div><p>Make the file executable.</p> <div class="language- extra-class"><pre class="language-text"><code>gvm@ubuntu:~$ chmod a+x /opt/gvm/bin/openvas-update
</code></pre></div><p>Enter the commands that we will run daily.</p> <div class="language- extra-class"><pre class="language-text"><code>gvm@ubuntu:~$ nano /opt/gvm/bin/openvas-update
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>/opt/gvm/bin/greenbone-nvt-sync
/opt/gvm/sbin/greenbone-feed-sync --type GVMD_DATA
/opt/gvm/sbin/greenbone-feed-sync --type SCAP
/opt/gvm/sbin/greenbone-feed-sync --type CERT
</code></pre></div><p>Edit the GVM users crontab and add the script we created to check for daily updates.</p> <div class="language- extra-class"><pre class="language-text"><code>gvm@ubuntu:~$ crontab -e
</code></pre></div><div class="language-bash extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-bash"><code><span class="token comment"># Edit this file to introduce tasks to be run by cron.</span>
<span class="token comment">#</span>
<span class="token comment"># Each task to run has to be defined through a single line</span>
<span class="token comment"># indicating with different fields when the task will be run</span>
<span class="token comment"># and what command to run for the task</span>
<span class="token comment">#</span>
<span class="token comment"># To define the time you can provide concrete values for</span>
<span class="token comment"># minute (m), hour (h), day of month (dom), month (mon),</span>
<span class="token comment"># and day of week (dow) or use '*' in these fields (for 'any').</span>
<span class="token comment">#</span>
<span class="token comment"># Notice that tasks will be started based on the cron's system</span>
<span class="token comment"># daemon's notion of time and timezones.</span>
<span class="token comment">#</span>
<span class="token comment"># Output of the crontab jobs (including errors) is sent through</span>
<span class="token comment"># email to the user the crontab file belongs to (unless redirected).</span>
<span class="token comment">#</span>
<span class="token comment"># For example, you can run a backup of all your user accounts</span>
<span class="token comment"># at 5 a.m every week with:</span>
<span class="token comment"># 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/</span>
<span class="token comment">#</span>
<span class="token comment"># For more information see the manual pages of crontab(5) and cron(8)</span>
<span class="token comment">#</span>
<span class="token comment"># m h  dom mon dow   command</span>

<span class="token number">0</span> <span class="token number">0</span> * * * /opt/gvm/bin/openvas-update
</code></pre></div><h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h2> <p>If you encounter any issue or having questions regarding Greenbone Vulnerability Manager, I recommend using their helpful <a href="https://community.greenbone.net/" target="_blank" rel="noopener noreferrer">community forum<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">Questions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">comments<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or <a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">problems<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> regarding this service? Create an issue <a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or contact <a href="mailto:webmaster@libellux.com">webmaster@libellux.com</a>.</p> <h3 id="sec-error-inadequate-key-usage"><a href="#sec-error-inadequate-key-usage" class="header-anchor">#</a> SEC_ERROR_INADEQUATE_KEY_USAGE</h3> <p>If receiving <code>SEC_ERROR_INADEQUATE_KEY_USAGE</code> and the browser blocks access to the local GVM server, proceed with removing the certificate. For example, in Firefox go to <code>about:preferences#privacy</code> and the certificate section. Select Show certificates, click the Servers tab and remove the certificates found under GVM Users.</p> <h3 id="failed-to-find-interpreter-for-python-3-7"><a href="#failed-to-find-interpreter-for-python-3-7" class="header-anchor">#</a> Failed to find interpreter for Python 3.7</h3> <p>If receiving <code>RuntimeError: failed to find interpreter for Builtin discover of python_spec='python3.7'</code> make sure you've followed the instructions to install the required 3.7 packages.</p> <div class="language- extra-class"><pre class="language-text"><code>server@ubuntu:~$ sudo add-apt-repository ppa:deadsnakes/ppa
server@ubuntu:~$ sudo apt-get update
server@ubuntu:~$ sudo apt-get install python3.7 python3.7-dev
</code></pre></div><h2 id="enterprise-solutions"><a href="#enterprise-solutions" class="header-anchor">#</a> Enterprise solutions <span class="badge default" style="vertical-align:top;" data-v-15b7b770>non-sponsored</span></h2> <h3 id="the-greenbone-security-manager"><a href="#the-greenbone-security-manager" class="header-anchor">#</a> The Greenbone Security Manager</h3> <p>The Greenbone Security Manager (GSM) is an appliance for vulnerability scanning and management. It is offered in various performance levels and basically supports an unlimited number of target systems. The actually achievable number depends on the scan pattern and scan targets. For finding the right model for your purpose, we provide reference values for the number of target IP addresses below, assuming a common scenario with a scan every 24 hours.</p> <p><a href="https://www.greenbone.net/en/product-comparison/" target="_blank" rel="noopener noreferrer">Greenbone Security Manager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://ko-fi.com/B0B31BJU3" target="_blank" rel="noopener noreferrer"><img src="https://www.ko-fi.com/img/githubbutton_sm.svg" alt="ko-fi"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <!----></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/libellux/Libellux-Up-and-Running/edit/master/docs/openvas/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/29/2021, 12:16:45 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/psad/" class="prev">
        PSAD Intrusion Detection
      </a></span> <span class="next"><a href="/clamav/">
        ClamAV Antivirus Server
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----><div data-v-288be2bf></div></div></div>
    <script src="/assets/js/app.1809c8fc.js" defer></script><script src="/assets/js/2.1fa7b86f.js" defer></script><script src="/assets/js/18.1fc9106d.js" defer></script><script src="/assets/js/7.b9189f98.js" defer></script><script src="/assets/js/4.5dc45874.js" defer></script><script src="/assets/js/3.684a3d09.js" defer></script>
  </body>
</html>
